<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
  </head>
  <body>
    <a href="/"><- Back</a>
    <h1><%= title %></h1>
    <p><b>In eCommerce microservices</b></p>
    <pre>
        <code>
    function preOrderPrice(originalPrice) {
        return originalPrice * 0.8;
    }

    function dayPrice(originalPrice) {
        return originalPrice * 0.6;
    }

    function promotionPrice(originalPrice) {
        return originalPrice <= 200 ? originalPrice * 0.9 : originalPrice - 30;
    }

    const getPriceStrategies = {
        preOrder: preOrderPrice,
        promotion: promotionPrice,
        dayPrice,
        ...
    };

    function getPrice(originalPrice, typePromotion) {
        return getPriceStrategies[typePromotion](originalPrice);
    }
        </code>
    </pre>

    <button
      onclick="document.getElementById('value').innerHTML = `<pre><code>${getPrice(300, 'preOrder')}</code></pre>`"
    >
      Run me
    </button>
    <div id="value"></div>

    <script>
      function preOrderPrice(originalPrice) {
        return originalPrice * 0.8;
      }

      function dayPrice(originalPrice) {
        return originalPrice * 0.6;
      }

      function promotionPrice(originalPrice) {
        return originalPrice <= 200
          ? originalPrice * 0.9
          : originalPrice - 30;
      }

      const getPriceStrategies = {
        preOrder: preOrderPrice,
        promotion: promotionPrice,
        dayPrice,
      };

      function getPrice(originalPrice, typePromotion) {
        return getPriceStrategies[typePromotion](originalPrice);
      }
    </script>
  </body>
</html>
